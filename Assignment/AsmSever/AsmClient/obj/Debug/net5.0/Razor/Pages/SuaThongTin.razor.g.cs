#pragma checksum "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\Pages\SuaThongTin.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "aa2745cbb1182efd75623a90f69c18ee6c70cff5"
// <auto-generated/>
#pragma warning disable 1591
namespace AsmClient.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\_Imports.razor"
using System.Net.Http.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\_Imports.razor"
using Microsoft.AspNetCore.Components.WebAssembly.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\_Imports.razor"
using AsmClient;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\_Imports.razor"
using AsmClient.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\_Imports.razor"
using Newtonsoft.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\Pages\SuaThongTin.razor"
using AsmShare.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\Pages\SuaThongTin.razor"
using AsmShare.Models.ViewModels;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\Pages\SuaThongTin.razor"
using Net.ConnectCode.Barcode;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\Pages\SuaThongTin.razor"
using System.Text;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.LayoutAttribute(typeof(WebLayOut))]
    [Microsoft.AspNetCore.Components.RouteAttribute("/suathongtin/{id}")]
    public partial class SuaThongTin : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenComponent<Microsoft.AspNetCore.Components.Forms.EditForm>(0);
            __builder.AddAttribute(1, "Model", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Object>(
#nullable restore
#line 14 "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\Pages\SuaThongTin.razor"
                  list

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(2, "OnValidSubmit", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Forms.EditContext>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Forms.EditContext>(this, 
#nullable restore
#line 14 "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\Pages\SuaThongTin.razor"
                                        handleSubmit

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(3, "class", "mt-3 px-5");
            __builder.AddAttribute(4, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Forms.EditContext>)((context) => (__builder2) => {
                __builder2.OpenComponent<Microsoft.AspNetCore.Components.Forms.DataAnnotationsValidator>(5);
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(6, "\r\n ");
                __builder2.OpenElement(7, "div");
                __builder2.AddAttribute(8, "class", "card mb-8");
                __builder2.AddMarkupContent(9, "<div class=\"card-header py-3\"><h5 class=\"mb-0\">Sửa Thông Tin Cá Nhân</h5></div>\r\n            ");
                __builder2.OpenElement(10, "div");
                __builder2.AddAttribute(11, "class", "card-body");
                __builder2.OpenElement(12, "ul");
                __builder2.AddAttribute(13, "class", "list-group list-group-flush");
                __builder2.OpenElement(14, "li");
                __builder2.OpenElement(15, "input");
                __builder2.AddAttribute(16, "type", "hidden");
                __builder2.AddAttribute(17, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 23 "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\Pages\SuaThongTin.razor"
                                                         list.KhachHang_Id

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(18, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => list.KhachHang_Id = __value, list.KhachHang_Id));
                __builder2.SetUpdatesAttributeName("value");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(19, "\r\n                ");
                __builder2.OpenElement(20, "li");
                __builder2.AddAttribute(21, "class", "list-group-item d-flex justify-content-between align-items-center px-0");
                __builder2.AddMarkupContent(22, "\r\n                  Họ Tên \r\n                  ");
                __builder2.OpenElement(23, "span");
                __builder2.OpenElement(24, "input");
                __builder2.AddAttribute(25, "style", "border-style: solid;border-width: 1px;border-color:lightslategrey");
                __builder2.AddAttribute(26, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 28 "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\Pages\SuaThongTin.razor"
                                                                                                                        list.KhachHang_Name

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(27, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => list.KhachHang_Name = __value, list.KhachHang_Name));
                __builder2.SetUpdatesAttributeName("value");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(28, "\r\n                ");
                __builder2.OpenElement(29, "li");
                __builder2.AddAttribute(30, "class", "list-group-item d-flex justify-content-between align-items-center px-0");
                __builder2.AddMarkupContent(31, "\r\n                  Số DT\r\n                  ");
                __builder2.OpenElement(32, "span");
                __builder2.OpenElement(33, "input");
                __builder2.AddAttribute(34, "style", "border-style: solid;border-width: 1px;border-color:lightslategrey");
                __builder2.AddAttribute(35, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 32 "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\Pages\SuaThongTin.razor"
                                                                                                                       list.KhachHang_Sdt

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(36, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => list.KhachHang_Sdt = __value, list.KhachHang_Sdt));
                __builder2.SetUpdatesAttributeName("value");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(37, "\r\n                ");
                __builder2.OpenElement(38, "li");
                __builder2.AddAttribute(39, "class", "list-group-item d-flex justify-content-between align-items-center px-0");
                __builder2.AddMarkupContent(40, "\r\n                  Email\r\n                  ");
                __builder2.OpenElement(41, "span");
                __builder2.OpenElement(42, "input");
                __builder2.AddAttribute(43, "style", "border-style: solid;border-width: 1px;border-color:lightslategrey");
                __builder2.AddAttribute(44, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 36 "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\Pages\SuaThongTin.razor"
                                                                                                                       list.KhachHang_Email

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(45, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => list.KhachHang_Email = __value, list.KhachHang_Email));
                __builder2.SetUpdatesAttributeName("value");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(46, "\r\n                ");
                __builder2.OpenElement(47, "li");
                __builder2.AddAttribute(48, "class", "list-group-item d-flex justify-content-between align-items-center px-0");
                __builder2.AddMarkupContent(49, "\r\n                  Ngày Sinh\r\n                  ");
                __builder2.OpenElement(50, "span");
                __builder2.OpenElement(51, "input");
                __builder2.AddAttribute(52, "type", "date");
                __builder2.AddAttribute(53, "style", "border-style: solid;border-width: 1px;");
                __builder2.AddAttribute(54, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 40 "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\Pages\SuaThongTin.razor"
                                                                                                        list.KhachHang_NgaySinh

#line default
#line hidden
#nullable disable
                , format: "yyyy-MM-dd", culture: global::System.Globalization.CultureInfo.InvariantCulture));
                __builder2.AddAttribute(55, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => list.KhachHang_NgaySinh = __value, list.KhachHang_NgaySinh, format: "yyyy-MM-dd", culture: global::System.Globalization.CultureInfo.InvariantCulture));
                __builder2.SetUpdatesAttributeName("value");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(56, "\r\n\r\n\r\n\r\n\r\n                ");
                __builder2.OpenElement(57, "li");
                __builder2.OpenElement(58, "span");
                __builder2.OpenElement(59, "input");
                __builder2.AddAttribute(60, "type", "hidden");
                __builder2.AddAttribute(61, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 47 "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\Pages\SuaThongTin.razor"
                                                list.KhachHang_PassWord

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(62, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => list.KhachHang_PassWord = __value, list.KhachHang_PassWord));
                __builder2.SetUpdatesAttributeName("value");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(63, "\r\n                 ");
                __builder2.OpenElement(64, "li");
                __builder2.OpenElement(65, "span");
                __builder2.OpenElement(66, "input");
                __builder2.AddAttribute(67, "type", "hidden");
                __builder2.AddAttribute(68, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 50 "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\Pages\SuaThongTin.razor"
                                                list.KhachHang_PassWord2

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(69, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => list.KhachHang_PassWord2 = __value, list.KhachHang_PassWord2));
                __builder2.SetUpdatesAttributeName("value");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(70, "\r\n                  ");
                __builder2.OpenElement(71, "li");
                __builder2.OpenElement(72, "span");
                __builder2.OpenElement(73, "input");
                __builder2.AddAttribute(74, "type", "hidden");
                __builder2.AddAttribute(75, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 53 "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\Pages\SuaThongTin.razor"
                                                list.KhachHang_Mota

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(76, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => list.KhachHang_Mota = __value, list.KhachHang_Mota));
                __builder2.SetUpdatesAttributeName("value");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(77, "\r\n              ");
                __builder2.OpenElement(78, "button");
                __builder2.AddAttribute(79, "type", "submit");
                __builder2.AddAttribute(80, "class", "btn btn-primary w-50 py-2 mt-4 d-block mx-auto");
                __builder2.AddAttribute(81, "disabled", 
#nullable restore
#line 56 "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\Pages\SuaThongTin.razor"
                                                                                                     loading

#line default
#line hidden
#nullable disable
                );
                __builder2.AddMarkupContent(82, "Cập Nhật");
                __builder2.CloseElement();
#nullable restore
#line 57 "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\Pages\SuaThongTin.razor"
                if (!string.IsNullOrEmpty(error))
                 {

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(83, "div");
                __builder2.AddAttribute(84, "class", "alert alert-danger mt-3 mb-0");
#nullable restore
#line 59 "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\Pages\SuaThongTin.razor"
__builder2.AddContent(85, (MarkupString)error);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
#nullable restore
#line 60 "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\Pages\SuaThongTin.razor"
        
                }

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.CloseElement();
            }
            ));
            __builder.CloseComponent();
        }
        #pragma warning restore 1998
#nullable restore
#line 65 "F:\C6\TaiNguyenC6\download\Assignment2\Assignment1\Assignment\AsmSever\AsmClient\Pages\SuaThongTin.razor"
       
    [Parameter]
    public string id { get; set; }
    private bool loading { get; set; } = false;
    private string Tieude = "";
    protected string temp = "";
    protected string imgUrl = "";
    private string error;
    public KhachHang list;

    public KhachHang listkh;
    protected override async Task OnInitializedAsync()
    {


        var apiUrl = config.GetSection("API")["APIUrl"].ToString();
        var accessToken = sessionStorage.GetItem<string>("AccessToken");
        list = new KhachHang();
        using (var client = new HttpClient())
        {
            client.DefaultRequestHeaders.Authorization = new System.Net.Http.Headers.AuthenticationHeaderValue("Bearer", accessToken);
            client.DefaultRequestHeaders.Add("Access-Control-Allow-Origin", "*");
            client.BaseAddress = new Uri(apiUrl);
            using (var response = await client.GetAsync("https://localhost:44345/api/khachhang/" + id))
            {
                string apiResponse = await response.Content.ReadAsStringAsync();
                list = Newtonsoft.Json.JsonConvert.DeserializeObject<KhachHang>(apiResponse);

            }
        }
    }
    private async Task handleSubmit()
    {
        error = "";
        if (list.KhachHang_Name == "")
        {
            error = "Vui lòng nhập họ tên";
        }
        if (list.KhachHang_Sdt == "")
        {
            error = "vui lòng nhập sdt";
        }
        if (list.KhachHang_Email == "")
        {
            error = "Vui lòng nhập Email";
        }
        if (list.KhachHang_NgaySinh == null)
        {
            error = "Vui lòng chọn ngày sinh";
        }
        if (error == "")
        {
             loading = true;
        using (var msg = await Http.PutAsJsonAsync("https://localhost:44345/api/khachhang/" + id.ToString(), list)) ;
        navigationManager.NavigateTo("/thongtin/"+id);
        }
       
      
    }



#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private Microsoft.Extensions.Configuration.IConfiguration config { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private Blazored.SessionStorage.ISyncSessionStorageService sessionStorage { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private HttpClient Http { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager navigationManager { get; set; }
    }
}
#pragma warning restore 1591
